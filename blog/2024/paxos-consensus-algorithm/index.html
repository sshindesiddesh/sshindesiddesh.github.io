<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <p>Ironically, the abstract of the paper ‘Paxos made simple’ says ‘The Paxos algorithm, when presented in plain English, is very simple.’ Unfortunately most of the Distributed Systems students fail to grasp this for the first few times. This blog makes an attempt to be a refresher for ‘Paxos Consensus Algorithm’ and provides handy reference to the crux of the consensus algorithm with some optional details towards the end.</p> <h3>The problem</h3> <p>Assume a collection of processes that can propose values. A consensus algorithm ensures that a single one among the proposed values is chosen.<br> • Only a value that has been proposed may be chosen,<br> • Only a single value is chosen, and<br> • A process never learns that a value has been chosen unless it actually has been chosen.<br> • Some proposed value is eventually chosen and, if a value has<br>been chosen, then a process can eventually learn the value.</p> <h3>Assumptions</h3> <p>• Processes operate at arbitrary speed, may fail by stopping, and may<br>restart. Since they may fail after a value is chosen and then<br>restart, a solution is impossible unless some information can be remembered by the process that has failed and restarted. Stable storage is required with every process.<br> • Messages can take arbitrarily long to be delivered, can be duplicated,<br>and can be lost, but they are not corrupted.</p> <h3>Roles</h3> <p>Proposer: Predetermined co-ordinator process. Also known as leader. Leader proposes values. In failure free case, there should be one leader.</p> <p>Acceptors: Collection of processes cooperate to choose a value.</p> <h3>Algorithm</h3> <p><strong>Phase 1<br></strong>(a) A proposer selects a proposal number n and sends a <strong>prepare<br>request</strong> with number n to a majority of acceptors.</p> <p>(b) If an acceptor receives a prepare request with number n greater<br>than that of any prepare request to which it has already responded,<br>then it responds to the request with a promise not to accept any more<br>proposals numbered less than n and with the highest-numbered proposal (if any) that it has accepted.</p> <p><strong>Phase 2</strong> <br>(a) If the proposer receives a response to its prepare requests<br>(numbered n) from a majority of acceptors, then it sends an <strong>accept<br>request</strong> to each of those acceptors for a proposal numbered n with a<br>value v, where v is the value of the highest-numbered proposal among<br>the responses, or is any value if the responses reported no proposals.</p> <p>(b) If an acceptor receives an accept request for a proposal numbered<br>n, it accepts the proposal unless it has already responded to a prepare<br>request having a number greater than n.</p> <p>What is this algorithm exactly?</p> <ul> <li>Paxos requires selecting a new unique leader in case of the existing leader failure. Isn’t selecting a unique leader equivalent to solve the consensus problem? Paxos maintains consistency, never allowing two different values to be choosen, even if multiple processes think they are the leader. A unique non-faulty leader is required only to make sure that the progress is made.</li> <li>Leader election can be performed using algorithm like ‘Stable leader election’ by Marcos K. Aguilera.</li> <li>Today’s engineering systems use a more practical version of this algorithm as referenced in [4] and [5], but to understand them, understanding ‘Paxos made simple’ is must.</li> </ul> <h3>References</h3> <ol> <li>Paxos Made Simple — <a href="https://lamport.azurewebsites.net/pubs/paxos-simple.pdf" rel="external nofollow noopener" target="_blank">https://lamport.azurewebsites.net/pubs/paxos-simple.pdf</a> </li> <li>Consensus on Transaction Commit — <a href="https://lamport.azurewebsites.net/video/consensus-on-transaction-commit.pdf" rel="external nofollow noopener" target="_blank">https://lamport.azurewebsites.net/video/consensus-on-transaction-commit.pdf</a> </li> <li><a href="https://citeseerx.ist.psu.edu/document?repid=rep1&amp;type=pdf&amp;doi=e030d116319970f636bf840c1e8af90857176d15" rel="external nofollow noopener" target="_blank">https://citeseerx.ist.psu.edu/document?repid=rep1&amp;type=pdf&amp;doi=e030d116319970f636bf840c1e8af90857176d15</a></li> <li>Paxos made Live — <a href="https://www.cs.utexas.edu/users/lorenzo/corsi/cs380d/papers/paper2-1.pdf" rel="external nofollow noopener" target="_blank">https://www.cs.utexas.edu/users/lorenzo/corsi/cs380d/papers/paper2-1.pdf</a> </li> <li>Paxos made moderately complex — <a href="https://www.cs.cornell.edu/courses/cs7412/2011sp/paxos.pdf" rel="external nofollow noopener" target="_blank">https://www.cs.cornell.edu/courses/cs7412/2011sp/paxos.pdf</a> </li> </ol> <p><img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=eb32ec165826" width="1" height="1" alt=""></p> </body></html>